pipeline:
  name: capture-test
  enabled: true
  env:
    foo: bar
  jobs:
    - name: job
      enabled: true
      with:
        foo_foo: bar.bar
        BAD: "BAD PROPERTY"
      steps:
        - name: Get project version
          run: ./mvnw --batch-mode help:evaluate -Dexpression=project.version -q -DforceStdout | awk '{gsub(/^[ \t\r\n]+|[ \t\r\n]+$/, ""); print}' >> $VERSION
        - name: Echo project version
          run: echo VERSION = $VERSION
        - name: Echo project version
          run: echo VERSION = ${{ VERSION }}
        - name: echo-step-1
          run: echo FOO = $FOO
        - name: echo-step-2
          run: echo FOO = ${{ FOO }}
        - name: echo-step-3
          run: echo INPUT_FOO_FOO = ${{ INPUT_FOO_FOO }}
        - name: echo-step-3
          run: echo ${{ INPUT_BAD }}
        - name: Get project version
          run: ./mvnw --batch-mode help:evaluate -Dexpression=project.version -q -DforceStdout | awk '{gsub(/^[ \t\r\n]+|[ \t\r\n]+$/, ""); print}' >> $version
        - name: Echo project version
          run: echo INPUT_VERSION = ${{ INPUT_VERSION }}
